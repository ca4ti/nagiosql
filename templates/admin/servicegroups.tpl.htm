<!-- (c) 2005-2011 by Martin Willisegger -->
<!-- -->
<!-- Project    : NagiosQL -->
<!-- Component  : servicegroup template -->
<!-- Website    : http://www.nagiosql.org -->
<!-- Date       : $LastChangedDate: 2011-03-13 14:00:26 +0100 (So, 13. MÃ¤r 2011) $ -->
<!-- Author     : $LastChangedBy: rouven $ -->
<!-- Version    : 3.1.1 -->
<!-- Revision   : $LastChangedRevision: 1058 $ -->
<!-- BEGIN header -->
<td class="main">
	<h1>{TITLE}</h1>
<!-- END header -->
<!-- BEGIN datainsert -->
	<script language="JavaScript" type="text/JavaScript">
		<!--
    	// Initialize change dialog
		openMutDlgInit("selMembers","mutdialogmembers","{LANG_MODIFY_SELECTION}: {LANG_MEMBERS}","mutmembers","{LANG_SAVE}","{LANG_ABORT}","{MENU_ID}","1");
		openMutDlgInit("selServicegroupMembers","mutdialogservicegroupmembers","{LANG_MODIFY_SELECTION}: {LANG_SERVICEGROUP_MEMBERS}","mutservicegroupmembers","{LANG_SAVE}","{LANG_ABORT}","{MENU_ID}");
		// Interrupt input
    	function abort() {
      		this.location.href = "{ACTION_INSERT}?limit={LIMIT}";
    	}
    	// Send form
    	function LockButton() {
      		if (checkForm() == false) {
        		return false;
      		} else {
				// Enable select fields
				document.getElementById("selMembers").disabled 	= false;
				document.getElementById("selServicegroupMembers").disabled = false;
				document.frmDetail.submit();
				document.frmDetail.subForm.disabled = true;
      		}
    	}
    	// Check form entries
    	function checkForm() {
      		// Are all required fields filled in?
			var fields1 = "tfName,{MEMBER_20_MUST}tfFriendly";
			var msg1    = "{FILL_ALLFIELDS}";
			var msg2    = "{FILL_ILLEGALCHARS}";
			var header  = "{LANG_FORMCHECK}";
			var form    = document.frmDetail;
			var check   = false;
			check = checkfields(fields1,form,myFocusObject);
			if (check == false) {
				msginit(msg1,header,1);
				return false;
			}	
			// Check for illegal chars
			if (form.tfName.value.match(/[^a-zA-Z0-9.@_-]/)) {
				msginit(msg2+" {LANG_SERVICEGROUP_NAME}",header,1);
				form.tfDomain.focus();
				return false;
			}
		}
    	//-->
 	 </script>
	<form name="frmDetail" method="post" action="{ACTION_INSERT}">
		<table border="0" class="inserttable">
            <tr>
                <td>{LANG_SERVICEGROUP_NAME}*</td>
                <td><input name="tfName" type="text" id="tfName" value="{DAT_SERVICEGROUP_NAME}" style="width:200px" class="inpmust">&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','servicegroup_name','all','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></td>
                <td>&nbsp;</td>
                <td>{LANG_MEMBERS}{MUST_20_STAR}</td>
                <td rowspan="4" valign="top">
                    <table cellpadding="0" cellspacing="0" border="0">
                        <tr>
                            <td width="205">
                            	<select name="selMembers[]" size="5" multiple id="selMembers" style="width:205px;" {CLASS_20_MUST_ONLY} {SELECT_FIELD_DISABLED}>
<!-- BEGIN service_members -->
                            		<option value="{DAT_SERVICE_MEMBERS_ID}" {DAT_SERVICE_MEMBERS_SEL} {CLASS_20_MUST_ONLY} {CLASS_SERVICE_MEMBERS_SEL}>{DAT_SERVICE_MEMBERS}</option>
<!-- END service_members -->
                            	</select>           
                            </td>
                            <td valign="top" style="padding-left:1px"><img id="mutmembers" src="{IMAGE_PATH}mut.gif" width="24" height="24" alt="{LANG_MODIFY}" title="{LANG_MODIFY}" style="cursor:pointer" ><br><br>&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','members','all','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></td>
                        </tr>
                    </table>      
            	</td>
            </tr> 
            <tr>
                <td>{LANG_DESCRIPTION}*</td>
                <td><input name="tfFriendly" type="text" id="tfFriendly" value="{DAT_ALIAS}" style="width:200px" class="inpmust">&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','description','all','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></td>
                <td>&nbsp;</td>
                <td width="130" rowspan="3"><small>{LANG_CTRLINFO}</small></td>
            </tr>
            <tr>
                <td><span class="{CLASS_NAME_30}">{LANG_NOTES}</span></td>
                <td><span class="{CLASS_NAME_30}"><input name="tfNotes" type="text" id="tfNotes" value="{DAT_NOTES}" style="width:200px">&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','notes','3','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></span></td>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td><span class="{CLASS_NAME_30}">{LANG_NOTES_URL}</span></td>
                <td><span class="{CLASS_NAME_30}"><input name="tfNotesURL" type="text" id="tfNotesURL" value="{DAT_NOTES_URL}" style="width:200px">&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','notes_url','3','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></span></td>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td><span class="{CLASS_NAME_30}">{LANG_ACTION_URL}</span></td>
                <td><span class="{CLASS_NAME_30}"><input name="tfActionURL" type="text" id="tfActionURL" value="{DAT_ACTION_URL}" style="width:200px">&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','action_url','3','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></span></td>
                <td>&nbsp;</td>
                <td><span class="{CLASS_NAME_30}">{LANG_SERVICEGROUP_MEMBERS}</span></td>
                <td rowspan="4" valign="top">
                    <table cellpadding="0" cellspacing="0" border="0" class="{CLASS_NAME_30}">
                        <tr>
                            <td width="205">
                            	<select name="selServicegroupMembers[]" size="5" multiple id="selServicegroupMembers" style="width:205px;" {CLASS_20_MUST_ONLY} {SELECT_FIELD_DISABLED}>
<!-- BEGIN servicegroups -->
                            		<option value="{DAT_SERVICEGROUPS_ID}" {DAT_SERVICEGROUPS_SEL} {CLASS_SERVICEGROUPS_SEL}>{DAT_SERVICEGROUPS}</option>
<!-- END servicegroups -->
                            	</select>            
                            </td>
                            <td valign="top" style="padding-left:1px"><img id="mutservicegroupmembers" src="{IMAGE_PATH}mut.gif" width="24" height="24" alt="{LANG_MODIFY}" title="{LANG_MODIFY}" style="cursor:pointer" ><br><br>&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('servicegroup','servicegroup_members','all','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></td>
                        </tr>
                    </table>      
            	</td>
            </tr> 
            <tr {RESTRICT_GROUP_ADMIN}>
                <td>{LANG_ACCESS_GROUP}</td>
                <td colspan="3">
                	<select name="selAccessGroup" style="width:205px">
<!-- BEGIN acc_group -->
            			<option value="{DAT_ACC_GROUP_ID}" {DAT_ACC_GROUP_SEL}>{DAT_ACC_GROUP}</option>
<!-- END acc_group -->
            		</select>&nbsp;<img src="{IMAGE_PATH}tip.gif" alt="{LANG_HELP}" title="{LANG_HELP}" width="18" height="18" onclick="dialoginit('common','accessgroup','all','Info')" style="vertical-align:text-bottom; padding-bottom:2px!" ></td>
            </tr>
            <tr>
                <td colspan="4">&nbsp;</td>
            </tr>
            <tr>
                <td valign="top">{LANG_ACTIVE}</td>
                <td colspan="3" valign="top"><input name="chbActive" type="checkbox" class="checkbox" id="chbActive" value="1" {ACT_CHECKED} {ACT_DISABLED}>
                    <input name="hidActive" type="hidden" id="hidActive" value="{ACTIVE}">
                    <input name="modus" type="hidden" id="modus" value="{MODUS}">
                    <input name="hidId" type="hidden" id="hidId" value="{DAT_ID}">
                    <input name="hidLimit" type="hidden" id="hidLimit" value="{LIMIT}"></td>
            </tr>
            <tr>
                <td width="130">&nbsp;</td>
                <td width="230">&nbsp;</td>
                <td width="30">&nbsp;</td>
                <td width="150">&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td colspan="3"><input name="subForm" type="button" id="subForm" value="{LANG_SAVE}" onClick="LockButton()">&nbsp;
                    <input name="subAbort" type="button" id="subAbort" onClick="abort()" value="{LANG_ABORT}">&nbsp;&nbsp;&nbsp;*&nbsp;{LANG_REQUIRED}</td>
                <td colspan="2"><span class="dbmessage">{WARNING}&nbsp;</span></td>
            </tr>
		</table>
	</form>
	{CHECK_MUST_DATA}
    <br>
    <div id="mutdialogmembers">
        <div id="mutdialogmemberscontent" class="bd"></div>
    </div>
    <div id="mutdialogservicegroupmembers">
        <div id="mutdialogservicegroupmemberscontent" class="bd"></div>
    </div>
    <div id="msgcontainer"></div>
    <div id="infodialog">
        <div id="dialogcontent" class="bd"></div>
    </div>
<!-- END datainsert -->