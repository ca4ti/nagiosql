<!-- Version 2.00.00 -->
<!-- Last modified 12.03.2007 -->
<!-- BEGIN header -->
    <td class="main">
      <h1>{TITLE}</h1>
<!-- END header -->
<!-- BEGIN datainsert -->
<h2>{TITLE_FORM}</h2>
<form name="frmServiceInsert" method="post" action="{ACTION_INSERT}">
  <script language="JavaScript" type="text/JavaScript">
    <!--
    // Eingabe abbrechen
    function abort() {
      this.location.href = "{ACTION_INSERT}?orderby={ORDER_BY}&limit={LIMIT}";
    }
	// Iframe URL setzen -->
    function setIframe(cname) {
      document.getElementById("fullcommand").src = "{DOCUMENT_ROOT}admin/commandline.php?cname="+cname;
    }
    // Formular absenden
    function LockButton() {
      if (checkForm() == false) {
        return false;
      } else {
        document.frmServiceInsert.submit();
        document.frmServiceInsert.subForm.disabled = true;
      }
    }
    // Formulareingaben überprüfen
    function checkForm() {
	  // Ist der Konfigurationsname leer?
      if(document.frmServiceInsert.tfConfigName.value == "")  {
        alert("{FILL_CONFIG}");
        document.frmServiceInsert.tfConfigName.focus();
        return false;
      }
      // Kommen unerlaubte Zeichen im Konfigurationsnamen vor?
      if(document.frmServiceInsert.tfConfigName.value.match(/[^\w\.-]/))  {
        alert("{FILL_ILLEGCHAR1} \"{LANG_CONFIGNAME}\"{FILL_ILLEGCHAR2}");
        document.frmServiceInsert.tfConfigName.focus();
        return false;
      }
      // Wurde kein Host und keine Hostgruppe ausgewaehlt?
      if((document.frmServiceInsert.selHosts.value == 0) &&
	     (document.frmServiceInsert.selHostgroups.value == 0))  {
        alert("{FILL_HOST_GR}");
        document.frmServiceInsert.selHosts.focus();
        return false;
      }
      // Wurde ein Host und eine Hostgruppe ausgewaehlt?
      if((document.frmServiceInsert.selHosts.value != 0) &&
	     (document.frmServiceInsert.selHostgroups.value != 0))  {
        alert("{FILL_HOSTORGR}");
        document.frmServiceInsert.selHosts.focus();
        return false;
      }
	  // Wurde ein Servicename eingetragen?
      if(document.frmServiceInsert.tfService.value == "")  {
        alert("{FILL_SERVNAME}");
        document.frmServiceInsert.tfService.focus();
        return false;
      }
      // Wurde keine Pruefperiode ausgewaehlt?
      if(document.frmServiceInsert.selCheckPeriod.value == "")  {
        alert("{FILL_CHECKPER}");
        document.frmServiceInsert.selCheckPeriod.focus();
        return false;
      }
      // Wurde keine maximale Pruefungszeit erfasst?
      if(document.frmServiceInsert.tfMaxCheckAttempts.value == "")  {
        alert("{FILL_CHECKATT}");
        document.frmServiceInsert.tfMaxCheckAttempts.focus();
        return false;
      }
      // Enthält die maximale Pruefungszeit unerlaubte Zeichen?
      if(document.frmServiceInsert.tfMaxCheckAttempts.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_MAXCHECKATT}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfMaxCheckAttempts.focus();
        return false;
      }
      // Wurde ein normales Pruefintervall eingetragen?
      if(document.frmServiceInsert.tfNormCheckInt.value == "")  {
        alert("{FILL_NOCHKINT}");
        document.frmServiceInsert.tfNormCheckInt.focus();
        return false;
      }
      // Enthält das normales Pruefintervall unerlaubte Zeichen?
      if(document.frmServiceInsert.tfNormCheckInt.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_NORMCHECKINT}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfNormCheckInt.focus();
        return false;
      }
      // Wurde ein wiederholendes Pruefintervall eingetragen?
      if(document.frmServiceInsert.tfRetryCheckInt.value == "")  {
        alert("{FILL_RECHKINT}");
        document.frmServiceInsert.tfRetryCheckInt.focus();
        return false;
      }
      // Enthält das wiederholendes Pruefintervall unerlaubte Zeichen?
      if(document.frmServiceInsert.tfRetryCheckInt.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_RETRYCHECKINT}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfRetryCheckInt.focus();
        return false;
      }
      // Wurde kein Servicebefehl ausgewaehlt?
      if(document.frmServiceInsert.selServiceCommand.value == "")  {
        alert("{FILL_CHKCOMM}");
        document.frmServiceInsert.selServiceCommand.focus();
        return false;
      }
      // Wurde keine Kontaktgruppe ausgewaehlt?
      if(document.frmServiceInsert.selContactGroups.value == "")  {
        alert("{FILL_CGROUP}");
        document.frmServiceInsert.selContactGroups.focus();
        return false;
      }
      // Wurde keine Alarmierungsperiode ausgewaehlt?
      if(document.frmServiceInsert.selNotifPeriod.value == "")  {
        alert("{FILL_NOTPERIOD}");
        document.frmServiceInsert.selNotifPeriod.focus();
        return false;
      }
      // Wurde kein Alarmierungsintervall eingetragen?
      if(document.frmServiceInsert.tfNotifIntervall.value == "")  {
        alert("{FILL_NFINT}");
        document.frmServiceInsert.tfNotifIntervall.focus();
        return false;
      }
      // Enthaelt das Alarmierungsintervall unerlaubte Zeichen?
      if(document.frmServiceInsert.tfNotifIntervall.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_NOTIFINTERVAL}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfNotifIntervall.focus();
        return false;
      }
      // Enthält die Aktualisierungsschwelle unerlaubte Zeichen?
      if(document.frmServiceInsert.tfFreshTreshold.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_FRESHTRESH}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfFreshTreshold.focus();
        return false;
      }	  
      // Enthaelt die obere Flappingschwelle unerlaubte Zeichen?	  
      if(document.frmServiceInsert.tfHighFlat.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_HIGHFLAP}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfHighFlat.focus();
        return false;
      }
      // Enthaelt die untere Flappingschwelle unerlaubte Zeichen?
      if(document.frmServiceInsert.tfLowFlat.value.match(/[^0-9]/))  {
        alert("{FILL_ILLEGCHAR1}\"{LANG_LOWFLAP}\"{FILL_ILLEGCHAR3}");
        document.frmServiceInsert.tfLowFlat.focus();
        return false;
      }
      // Wurden die Alarmierungsoptionen erfasst?
      if((document.frmServiceInsert.chbNOw.checked == false) &&
	     (document.frmServiceInsert.chbNOu.checked == false) &&
		 (document.frmServiceInsert.chbNOc.checked == false) &&
		 (document.frmServiceInsert.chbNOr.checked == false) &&
		 (document.frmServiceInsert.chbNOf.checked == false)) {
        alert("{FILL_NOPTION}");
        document.frmServiceInsert.tfNotifOption.focus();
        return false;
      }
    }
    //-->
  </script>
  <table border="0" class="inserttable">
    <tr>
      <td colspan="4" valign="top"><strong>{LANG_COMMONTITLE}</strong></td>
      <td colspan="2"><img src="{IMAGE_PATH}pixel.gif" alt="" width="1" height="20"></td>
    </tr>
    <tr>
      <td>{LANG_CONFIGNAME}*</td>
      <td colspan="3" valign="top"><input name="tfConfigName" type="text" value="{DAT_CONFIG_NAME}" maxlength="40">
        <input name="hidConfigname" type="hidden" id="hidConfigname" value="{DAT_CONFIG_NAME}"></td>
      <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
      <td>{LANG_HOSTNAME}(*)</td>
      <td colspan="3" rowspan="2">        
	  	<select name="selHosts[]" size="8" multiple id="selHosts" style="width:200px;">
<!-- BEGIN hostname -->
              <option value="{DAT_HOST_ID}" {DAT_HOST_SEL}>{DAT_HOST}</option>
<!-- END hostname -->
          </select></td>
      <td>{LANG_HOSTGROUPS}(*)</td>
      <td rowspan="2" valign="top"><select name="selHostGroups[]" size="8" multiple id="selHostgroups" style="width:200px;">
<!-- BEGIN hostgroups -->
        <option value="{DAT_HOSTGROUPS_ID}" {DAT_HOSTGROUPS_SEL}>{DAT_HOSTGROUPS}</option>
<!-- END hostgroups -->
      </select></td>
    </tr>
    <tr>
      <td><small>{LANG_CTRLINFO}</small></td>
      <td><p><small>{LANG_CTRLINFO}<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br></small></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td colspan="3">&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;      </td>
    </tr>
    <tr>
      <td>{LANG_SERVICE}*</td>
      <td colspan="3"><input name="tfService" type="text" id="tfService" value="{DAT_SERVICE_DESCRIPTION}" size="35" maxlength="63">
</td>
      <td>{LANG_SERVICEGROUPS}</td>
      <td rowspan="3"><select name="selServiceGroups[]" size="4" multiple id="select2" style="width:200px;">
<!-- BEGIN servicegroups -->
        <option value="{DAT_SERVICEGROUPITEM_ID}" {DAT_SERVICEGROUPITEM_SEL}>{DAT_SERVICEGROUPITEM}</option>
<!-- END servicegroups -->
      </select></td>
    </tr>
    <tr>
      <td>{LANG_PERFORMANCE}</td>
      <td><input name="chbPerfData" type="checkbox" class="checkbox" id="chbPerfData" value="1" {PERF_CHECKED}>
</td>
      <td>{LANG_NOTIFENABLE}</td>
      <td><input name="chbNotifEnabled" type="checkbox" class="checkbox" id="chbNotifEnabled" value="1" {NOTIF_CHECKED}>
      </td>
      <td rowspan="2"><small>{LANG_CTRLINFO}</small></td>
      </tr>
    <tr>
      <td>{LANG_ACTIVE}</td>
      <td><input name="chbActive" type="checkbox" class="checkbox" id="chbActive2" value="1" {ACT_CHECKED} {ACT_DISABLED}>
        <input name="hidActive" type="hidden" id="hidActive" value="{ACTIVE}">
        <input name="modus" type="hidden" id="modus" value="{MODUS}">
        <input name="hidId" type="hidden" id="hidId" value="{DAT_ID}"></td>
      <td><input name="selOrderBy" type="hidden" id="selOrderBy" value="{ORDER_BY}">
        <input name="hidLimit" type="hidden" id="hidLimit" value="{LIMIT}"></td>
      <td>&nbsp;</td>
      </tr>
    <tr>
      <td colspan="6">{CHECK_MUST_DATA2}</td>
      </tr>
    <tr>
      <td colspan="4" valign="top"><strong>{LANG_CHECKTITLE}</strong></td>
      <td colspan="2"><img src="{IMAGE_PATH}pixel.gif" alt="" width="1" height="20"></td>
      </tr>
    <tr>
      <td>{LANG_CHECKPERIOD}*</td>
      <td colspan="3"><select name="selCheckPeriod" id="selCheckPeriod" style="width:200px;">
<!-- BEGIN checkperiod -->
          <option value="{DAT_CHECK_PERIODS_ID}" {DAT_CHECK_PERIODS_SEL}>{DAT_CHECK_PERIODS}</option>
<!-- END checkperiod -->
        </select></td>
      <td>{LANG_CONTACTGROUPS}*</td>
      <td rowspan="3"><select name="selContactGroups[]" size="4" multiple id="selContactGroups" style="width:200px;">
<!-- BEGIN contactgroups -->
          <option value="{DAT_CONTACTGROUPS_ID}" {DAT_CONTACTGROUPS_SEL}>{DAT_CONTACTGROUPS}</option>
<!-- END contactgroups -->
        </select></td>
    </tr>
    <tr>
      <td>{LANG_MAXCHECKATT}*</td>
      <td><input name="tfMaxCheckAttempts" type="text" id="tfMaxCheckAttempts" value="{DAT_MAX_CHECK_ATTEMPTS}" size="4"></td>
      <td>{LANG_ACTIVECHECKS}</td>
      <td><input name="chbActiveChecks" type="checkbox" class="checkbox" id="chbActiveChecks" value="1" {ACTIVE_CHECKS_CHECKED}></td>
      <td rowspan="2"><small>{LANG_CTRLINFO}</small></td>
    </tr>
    <tr>
      <td>{LANG_NORMCHECKINT}*</td>
      <td><input name="tfNormCheckInt" type="text" id="tfCheckIntervall" value="{DAT_NORMAL_CHECK_INTERVAL}" size="4"> 
      min</td>
      <td>{LANG_PASSIVECHECKS}</td>
      <td><input name="chbPassiveChecks" type="checkbox" class="checkbox" id="chbPassiveChecks" value="1" {PASSIVE_CHECKS_CHECKED}></td>
    </tr>
    <tr>
      <td>{LANG_RETRYCHECKINT}*</td>
      <td><input name="tfRetryCheckInt" type="text" id="tfCheckIntervall" value="{DAT_RETRY_CHECK_INTERVAL}" size="4"> 
      min</td>
      <td>{LANG_VOLATILE}</td>
      <td><input name="chbIsVolatile" type="checkbox" class="checkbox" id="chbIsVolatile" value="1" {VOLATILE_CHECKED}></td>
      <td>{LANG_PARALLELIZE}</td>
      <td><input name="chbParallelize" type="checkbox" class="checkbox" id="chbParallelize" value="1" {PARALLELIZE_CHECKED}></td>
    </tr>
    <tr>
      <td>{LANG_CHECKCMD}*</td>
      <td colspan="3"><select name="selServiceCommand" id="selServiceCommand" style="width:200px;" onChange="setIframe(this.value);">
<!-- BEGIN servicecommand -->
          <option value="{DAT_SERVICE_COMMAND_ID}" {DAT_SERVICE_COMMAND_SEL}>{DAT_SERVICE_COMMAND}</option>
<!-- END servicecommand -->
        </select></td>
      <td colspan="2">&nbsp;</td>
      </tr>
    <tr>
      <td>{LANG_FULLCMD}</td>
      <td colspan="5"><iframe scrolling="no" id="fullcommand" name="fullcommand" src="{IFRAME_SRC}" width="100%" height="22">&nbsp;</iframe></td>
    </tr>
    <tr>
      <td>{LANG_CMDARGS}</td>
      <td colspan="5" valign="middle"><input name="tfArg1" type="text" id="tfArg1" value="{DAT_ARG1}" size="6">!<input 
	    name="tfArg2" type="text" id="tfArg2" value="{DAT_ARG2}" size="6">!<input 
	    name="tfArg3" type="text" id="tfArg3" value="{DAT_ARG3}" size="6">!<input 
	    name="tfArg4" type="text" id="tfArg4" value="{DAT_ARG4}" size="6">!<input 
	    name="tfArg5" type="text" id="tfArg5" value="{DAT_ARG5}" size="6">!<input 
	    name="tfArg6" type="text" id="tfArg6" value="{DAT_ARG6}" size="6">!<input 
	    name="tfArg7" type="text" id="tfArg7" value="{DAT_ARG7}" size="6">!<input 
	    name="tfArg8" type="text" id="tfArg8" value="{DAT_ARG8}" size="6">
        ($ARG1$ $ARG2$ $ARG3$ ...)</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="80" height="1"></td>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="130" height="1"></td>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="60" height="1"></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td colspan="3" valign="top"><strong>{LANG_NOTIFTITLE}</strong></td>
      <td><strong><img src="{IMAGE_PATH}pixel.gif" alt="" width="1" height="20"></strong></td>
      <td colspan="2" valign="top"><strong>{LANG_EVENTTITLE}</strong></td>
    </tr>
    <tr>
      <td>{LANG_NOTIFPERIOD}*</td>
      <td colspan="3"><select name="selNotifPeriod" id="selNotifPeriod" style="width:200px;">
<!-- BEGIN notifperiod -->
          <option value="{DAT_NOTIF_PERIOD_ID}" {DAT_NOTIF_PERIOD_SEL}>{DAT_NOTIF_PERIOD}</option>
<!-- END notifperiod -->
        </select></td>
      <td>{LANG_EVENTHANDLER}</td>
      <td><select name="selEventHandler" id="selEventHandler" style="width:200px;">
<!-- BEGIN eventhandler -->
          <option value="{DAT_EVENT_HANDLERITEM_ID}" {DAT_EVENT_HANDLERITEM_SEL}>{DAT_EVENT_HANDLERITEM}</option>
<!-- END eventhandler -->
        </select></td>
    </tr>
    <tr>
      <td>{LANG_NOTIFINTERVAL}*</td>
      <td colspan="3"><input name="tfNotifIntervall" type="text" id="tfNotifIntervall" value="{DAT_NOTIFICATION_INTERVAL}" size="4">          
      min        </td>
      <td>{LANG_EVENTENABLE}</td>
      <td><input name="chbEventEnable" type="checkbox" class="checkbox" id="chbEventEnable" value="1" {EVENTHANDLER_CHECKED}></td>
    </tr>
    <tr>
      <td>{LANG_NOTIFOPTION}*</td>
      <td colspan="3"><input name="chbNOw" type="checkbox" class="checkbox" id="chbNOw" value="w" {DAT_NOW_CHECKED}>
        w&nbsp;
        <input name="chbNOu" type="checkbox" class="checkbox" id="chbNOu" value="u" {DAT_NOU_CHECKED}>
        u&nbsp;
        <input name="chbNOc" type="checkbox" class="checkbox" id="chbNOc" value="c" {DAT_NOC_CHECKED}>
        c&nbsp;
        <input name="chbNOr" type="checkbox" class="checkbox" id="chbNOr" value="r" {DAT_NOR_CHECKED}>
        r&nbsp;
        <input name="chbNOf" type="checkbox" class="checkbox" id="chbNOf" value="f" {DAT_NOF_CHECKED}>
        f</td>
      <td colspan="2">&nbsp;</td>
      </tr>
    <tr>
      <td colspan="6">&nbsp;</td>
      </tr>
    <tr>
      <td colspan="3" valign="top"><strong>{LANG_DIVTITLE}</strong></td>
      <td><strong><img src="{IMAGE_PATH}pixel.gif" alt="" width="1" height="20"></strong></td>
      <td colspan="2" valign="top"><strong>{LANG_FLAPTITLE}</strong></td>
    </tr>
    <tr>
      <td>{LANG_FRESHNESS}</td>
      <td><input name="chbFreshness" type="checkbox" class="checkbox" id="chbFreshness" value="1" {FRESHNESS_CHECKED}></td>
      <td>{LANG_OBSESS}</td>
      <td><input name="chbObsess" type="checkbox" class="checkbox" id="chbObsess" value="1" {OBESS_CHECKED}></td>
      <td>{LANG_FLAPENABLE}</td>
      <td><input name="chbFlapEnable" type="checkbox" class="checkbox" id="chbFlapEnable" value="1" {FLAP_CHECKED}></td>
    </tr>
    <tr>
      <td>{LANG_FRESHTRESH}</td>
      <td colspan="3"><input name="tfFreshTreshold" type="text" id="tfFreshTreshold" value="{DAT_FRESHNESS_THRESHOLD}" size="5"> 
      sec        </td>
      <td>{LANG_HIGHFLAP}</td>
      <td><input name="tfHighFlat" type="text" id="tfHighFlat" value="{DAT_HIGH_FLAP_THRESHOLD}" size="5"> 
      %</td>
    </tr>
    <tr>
      <td>{LANG_STALKING}</td>
      <td colspan="3"><input name="chbSOo" type="checkbox" class="checkbox" id="chbSOo" value="o" {DAT_SOO_CHECKED}>
        o&nbsp;
        <input name="chbSOw" type="checkbox" class="checkbox" id="chbSOw" value="w" {DAT_SOW_CHECKED}>
        w&nbsp;        
		<input name="chbSOu" type="checkbox" class="checkbox" id="chbSOu" value="u" {DAT_SOU_CHECKED}>
        u&nbsp;
        <input name="chbSOc" type="checkbox" class="checkbox" id="chbSOc" value="c" {DAT_SOC_CHECKED}>
        c&nbsp;</td>
      <td>{LANG_LOWFLAP}</td>
      <td><input name="tfLowFlat" type="text" id="tfLowFlat" value="{DAT_LOW_FLAP_THRESHOLD}" size="5"> 
      %</td>
    </tr>
    <tr>
      <td>{LANG_STATUSINFO}</td>
      <td><input name="chbStatusInfos" type="checkbox" class="checkbox" id="chbStatusInfos" value="1" {STATUS_CHECKED}></td>
      <td>{LANG_NOSTATUSINFO}</td>
      <td><input name="chbNonStatusInfos" type="checkbox" class="checkbox" id="chbNonStatusInfos" value="1" {NONSTATUS_CHECKED}></td>
      <td colspan="2">&nbsp;</td>
      </tr>
    <tr>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="150" height="1"></td>
      <td colspan="3">&nbsp;</td>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="150" height="1"></td>
      <td><img src="{IMAGE_PATH}pixel.gif" alt="" width="260" height="1"></td>
    </tr>
    <tr>
      <td colspan="2"><input name="subForm" type="button" id="subForm" value="{LANG_SAVE}" onClick="LockButton()">&nbsp;
      <input name="subAbort" type="button" id="subAbort" onClick="abort()" value="{LANG_ABORT}"></td>
      <td colspan="2">{LANG_MUSTDATA}</td>
      <td colspan="2"><span class="dbmessage">{WARNING}</span></td>
    </tr>
  </table>
</form>
{CHECK_MUST_DATA}
<br>
<!-- END datainsert -->